<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="favicon.png" type="image/png">
    <title>System_VM_D62Eå®˜æ–¹ç½‘ç«™</title>
    
    <!-- æ ·å¼æ–‡ä»¶ -->
    <link rel="stylesheet" href="style-optimized.css">
    <link rel="stylesheet" href="adaptive-card-styles.css">
    
    <!-- ç§»åŠ¨ç«¯æ±‰å ¡èœå•ä¸“ç”¨æ ·å¼ - ç´§å‡‘å‹èœå• -->
    <style>
        /* ----- æ±‰å ¡èœå•æ ·å¼ï¼ˆå¼ºåˆ¶ç”Ÿæ•ˆï¼‰----- */
        .hamburger-btn {
            display: none !important;
            flex-direction: column !important;
            justify-content: space-between !important;
            width: 30px !important;
            height: 24px !important;
            background: transparent !important;
            border: none !important;
            cursor: pointer !important;
            padding: 0 !important;
            margin-left: 20px !important;
            z-index: 1002 !important;
            position: relative !important;
        }
        
        .hamburger-btn span {
            display: block !important;
            width: 100% !important;
            height: 3px !important;
            background: #00f3ff !important;
            border-radius: 3px !important;
            transition: all 0.3s ease !important;
        }
        
        .hamburger-btn.active span:nth-child(1) {
            transform: translateY(10px) rotate(45deg) !important;
        }
        
        .hamburger-btn.active span:nth-child(2) {
            opacity: 0 !important;
        }
        
        .hamburger-btn.active span:nth-child(3) {
            transform: translateY(-10px) rotate(-45deg) !important;
        }
        
        /* ----- å¤´éƒ¨å¯¼èˆªæ å¸ƒå±€ä¼˜åŒ– ----- */
        header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
        }
        
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            height: 80px;
            position: relative;
        }
        
        .navbar {
            display: flex;
            align-items: center;
            margin-left: auto;
        }
        
        .nav-menu {
            display: flex;
            list-style: none;
            gap: 2rem;
            align-items: center;
            margin-right: 0;
        }
        
        /* æ±‰å ¡èœå•å®¹å™¨ - æ”¾ç½®åœ¨å¯¼èˆªæ æœ€å³ç«¯ */
        .hamburger-wrapper {
            display: none !important;
            align-items: center !important;
            margin-left: 20px !important;
        }
        
        /* ----- ç§»åŠ¨ç«¯ç´§å‡‘å‹èœå•ï¼ˆæŒ‰é’®å¤§å°é€‚é…ï¼‰----- */
        @media (max-width: 768px) {
            .navbar {
                margin-left: 0;
            }
            
            /* ç´§å‡‘å‹ä¾§è¾¹èœå• - ä¸å æ»¡æ•´ä¸ªå³è¾¹ */
            .nav-menu {
                position: fixed !important;
                top: 80px !important; /* ç´§è´´headerä¸‹æ–¹ */
                right: -320px !important; /* åˆå§‹éšè—åœ¨å³ä¾§å¤–éƒ¨ */
                width: 280px !important;
                max-width: 85vw !important; /* æœ€å¤§å®½åº¦ä¸ºè§†å£85%ï¼Œä¸å æ»¡ */
                height: auto !important; /* é«˜åº¦è‡ªé€‚åº”ï¼Œä¸å æ»¡å…¨å± */
                max-height: calc(100vh - 100px) !important; /* æœ€å¤§é«˜åº¦é™åˆ¶ï¼Œç•™å‡ºè¾¹è· */
                background: rgba(8, 12, 25, 0.98) !important;
                backdrop-filter: blur(15px) !important;
                flex-direction: column !important;
                padding: 16px !important; /* å‡å°å†…è¾¹è· */
                transition: right 0.3s ease !important;
                z-index: 1001 !important;
                border: 1px solid rgba(0, 243, 255, 0.3) !important;
                border-radius: 12px 0 0 12px !important; /* å·¦ä¾§åœ†è§’ */
                box-shadow: -5px 5px 30px rgba(0, 212, 255, 0.3) !important;
                margin: 0 !important;
                list-style: none !important;
                display: flex !important;
                gap: 8px !important; /* å‡å°é—´è· */
                overflow-y: auto !important; /* å†…å®¹è¿‡å¤šæ—¶å¯æ»šåŠ¨ */
            }
            
            .nav-menu.active {
                right: 0 !important; /* æ¿€æ´»æ—¶æ˜¾ç¤ºåœ¨å³ä¾§è¾¹ç¼˜ */
            }
            
            /* èœå•é¡¹æ ·å¼ - ç´§å‡‘è®¾è®¡ */
            .nav-menu li {
                width: 100% !important;
                margin: 4px 0 !important; /* å‡å°å¤–è¾¹è· */
            }
            
            .nav-menu li a,
            .nav-menu li button {
                width: 100% !important;
                text-align: left !important;
                padding: 12px 16px !important; /* å‡å°å†…è¾¹è· */
                border-radius: 8px !important;
                border: 1px solid rgba(0, 243, 255, 0.15) !important;
                background: rgba(0, 0, 0, 0.2) !important;
                color: #e0e0e0 !important;
                font-size: 0.95rem !important; /* ç¨å¾®å‡å°å­—ä½“ */
                display: flex !important;
                align-items: center !important;
                gap: 12px !important;
                transition: all 0.2s ease !important;
                min-height: 44px !important; /* ä¿æŒè§¦æ‘¸å‹å¥½å°ºå¯¸ */
            }
            
            .nav-menu li a:hover,
            .nav-menu li button:hover {
                background: rgba(0, 243, 255, 0.15) !important;
                border-color: rgba(0, 243, 255, 0.5) !important;
                color: #00f3ff !important;
                transform: translateX(4px) !important; /* è½»å¾®å³ç§»æ•ˆæœ */
            }
            
            /* å›¾æ ‡æ ·å¼ä¼˜åŒ– */
            .nav-menu li a .btn-icon,
            .nav-menu li button .btn-icon {
                font-size: 1.1rem !important;
                min-width: 24px !important;
                text-align: center !important;
            }
            
            /* ç”¨æˆ·çŠ¶æ€ç‰¹æ®Šæ ·å¼ */
            .nav-menu li a.user-status {
                background: rgba(0, 243, 255, 0.08) !important;
                border-color: rgba(0, 243, 255, 0.3) !important;
                color: #00f3ff !important;
                font-weight: 500 !important;
            }
            
            /* ä¸‹è½½æŒ‰é’®ç‰¹æ®Šæ ·å¼ */
            .nav-menu li .download-btn-main {
                background: rgba(0, 243, 255, 0.12) !important;
                border-color: rgba(0, 243, 255, 0.4) !important;
            }
            
            /* ä¸»é¢˜åˆ‡æ¢æŒ‰é’®ç‰¹æ®Šæ ·å¼ */
            .nav-menu li .theme-btn {
                background: rgba(255, 255, 255, 0.05) !important;
            }
            
            /* æ±‰å ¡èœå•åŒ…è£…å™¨ - åœ¨ç§»åŠ¨ç«¯æ˜¾ç¤º */
            .hamburger-wrapper {
                display: flex !important;
            }
            
            .hamburger-btn {
                display: flex !important;
            }
            
            /* é®ç½©å±‚ - åŠé€æ˜ä¸å¹²æ‰°è§†è§‰ */
            .menu-overlay {
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.5);
                backdrop-filter: blur(2px);
                z-index: 1000;
            }
            
            .menu-overlay.active {
                display: block;
            }
            
            /* èœå•å¤´éƒ¨æŒ‡ç¤ºå™¨ï¼ˆå¯é€‰ï¼‰ */
            .nav-menu::before {
                content: 'èœå•';
                display: block;
                padding: 8px 16px;
                margin-bottom: 8px;
                font-size: 0.85rem;
                color: rgba(0, 243, 255, 0.7);
                border-bottom: 1px solid rgba(0, 243, 255, 0.2);
                letter-spacing: 2px;
                text-transform: uppercase;
            }
        }
        
        @media (min-width: 769px) {
            .hamburger-wrapper {
                display: none !important;
            }
            .hamburger-btn {
                display: none !important;
            }
            .menu-overlay {
                display: none !important;
            }
            
            /* æ¡Œé¢ç«¯éšè—èœå•å¤´éƒ¨æŒ‡ç¤ºå™¨ */
            .nav-menu::before {
                display: none !important;
            }
        }
        
        /* ç™»å½•çŠ¶æ€æ ·å¼ */
        .user-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #00f3ff;
            font-weight: 500;
        }
        
        .auth-link {
            display: inline-flex;
            align-items: center;
            padding: 0.5rem 1rem;
            border: 1px solid rgba(0, 243, 255, 0.3);
            border-radius: 4px;
            text-decoration: none;
            transition: all 0.3s ease;
            background: rgba(0, 243, 255, 0.05);
            color: #00f3ff;
            font-weight: 500;
        }
        
        .auth-btn-large {
            display: inline-flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 1.2rem 2rem;
            border: none;
            border-radius: 8px;
            text-decoration: none;
            color: white;
            font-family: inherit;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            max-width: 280px;
            margin-left: auto;
            margin-right: auto;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .user-btn-large {
            background: linear-gradient(135deg, #00c9ff 0%, #007acc 100%);
        }
        
        .login-indicator {
            display: none;
            position: fixed;
            top: 10px;
            right: 10px;
            background: rgba(0, 255, 128, 0.1);
            border: 1px solid rgba(0, 255, 128, 0.3);
            color: #00ff80;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            z-index: 1001;
            backdrop-filter: blur(5px);
        }
        
        .login-indicator.visible {
            display: block;
            animation: slideInDown 0.3s ease;
        }
        
        @keyframes slideInDown {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        /* å½“å‰æ—¶é—´æ ·å¼ */
        #current-time {
            color: #00f3ff;
            font-weight: 500;
        }
        
        /* å…¨å±€æç¤ºæ ·å¼ */
        .click-outside-hint {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: rgba(0, 243, 255, 0.15);
            border: 1px solid rgba(0, 243, 255, 0.3);
            color: #00f3ff;
            padding: 10px 20px;
            border-radius: 30px;
            font-size: 0.9rem;
            z-index: 999;
            backdrop-filter: blur(10px);
            display: none;
            animation: fadeInUp 0.3s ease;
        }
        
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* ç§»åŠ¨ç«¯é€‚é…ä¼˜åŒ– */
        @media (max-width: 480px) {
            .nav-menu {
                width: 260px !important;
                padding: 14px !important;
            }
            
            .nav-menu li a,
            .nav-menu li button {
                padding: 10px 14px !important;
                font-size: 0.9rem !important;
            }
        }
    </style>
</head>

<body data-main-script-initialized="false">
    <!-- ç§‘å¹»èƒŒæ™¯æ•ˆæœ -->
    <div class="scifi-bg">
        <div class="grid-lines"></div>
        <div class="floating-particles"></div>
    </div>
    
    <!-- å…¨å±€æç¤º -->
    <div class="click-outside-hint" id="click-hint">
       Appæ–°å‡çº§ï¼ˆç‰ˆæœ¬ï¼š1.2.1.0.04ï¼‰
    </div>
    
    <!-- ç™»å½•çŠ¶æ€æŒ‡ç¤ºå™¨ -->
    <div class="login-indicator" id="login-indicator">
        å·²ç™»å½•
    </div>
    
    <!-- é®ç½©å±‚ -->
    <div class="menu-overlay" id="menu-overlay"></div>
    
    <!-- å¤´éƒ¨å¯¼èˆª - æ±‰å ¡èœå•å·²ç§»åŠ¨åˆ°å¯¼èˆªæ æœ€å³ç«¯ -->
    <header>
        <div class="header-container">
            <h1 class="scifi-title">System_VM_D62E</h1>
            
            <nav class="navbar">
                <ul class="nav-menu" id="nav-menu">
                    <li><a href="#about" class="scifi-link">å…³äºUP</a></li>
                    <li><a href="https://m.bilibili.com/space/3546812044544535" target="_blank" rel="noopener" class="scifi-link">ä½œè€…ä¿¡æ¯</a></li>
                    
                    <!-- åŠ¨æ€èº«ä»½éªŒè¯æŒ‰é’® -->
                    <li id="auth-nav-item"></li>
                    
                    <!-- ä¿®æ”¹ä¸ºç›´æ¥ä¸‹è½½é“¾æ¥ -->
                    <li>
                        <a href="https://kksjkk.github.io/signed.apk" 
                           class="scifi-button download-btn-main" 
                           id="download-btn"
                           download="System_VM_D62E.apk"
                           target="_blank"
                           rel="noopener noreferrer">
                            ä¸‹è½½å®‰å“ç«¯
                        </a>
                    </li>
                    <li><button id="theme-toggle" class="theme-btn scifi-button">ğŸŒ“ æš—è‰²æ¨¡å¼</button></li>
                </ul>
                
                <!-- æ±‰å ¡èœå•åŒ…è£…å™¨ - ä½äºå¯¼èˆªæ æœ€å³ç«¯ -->
                <div class="hamburger-wrapper">
                    <button class="hamburger-btn" id="hamburger-btn">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                </div>
            </nav>
        </div>
        <div class="progress-bar"></div>
    </header>

    <!-- ä¸»å†…å®¹åŒºåŸŸ -->
    <main>
        <section class="hero">
            <div class="hero-content">
                <div class="logo-container">
                    <img src="drawcut_1768537221502.png" data-src="drawcut_1768537221502.png" alt="System_VM_D62E Logo" class="logo lazy-load">
                    <div class="logo-glow"></div>
                </div>
                
                <h2 class="scifi-heading">æ¬¢è¿æ¥åˆ° <span class="highlight">System_VM_D62E</span> å®˜æ–¹ç½‘é¡µ</h2>
                <p class="scifi-text">æ¢ç´¢æŠ€æœ¯ä¸åˆ›æ„çš„æ— é™å¯èƒ½</p>
                
                <div class="progress-container">
                    <label for="system-progress" class="scifi-label">ç³»ç»ŸåŠ è½½è¿›åº¦:</label>
                    <div class="progress-wrapper">
                        <progress id="system-progress" value="75" max="100">75%</progress>
                        <div class="progress-glow" style="width: 75%;"></div>
                    </div>
                    <span class="progress-text">75%</span>
                </div>
                
                <div class="download-section">
                    <!-- ä¿®æ”¹ä¸ºç›´æ¥ä¸‹è½½é“¾æ¥ -->
                    <a href="https://kksjkk.github.io/signed.apk" 
                       class="scifi-button download-btn-large hero-download-btn" 
                       id="hero-download-btn"
                       download="System_VM_D62E.apk"
                       target="_blank"
                       rel="noopener noreferrer">
                        <span class="btn-icon">ğŸ“±</span>
                        <span class="btn-text">ä¸‹è½½å®‰å“ç‰ˆ</span>
                        <span class="btn-subtext">v1.0 â€¢ æµ‹è¯•ç‰ˆæœ¬</span>
                    </a>
                    <div id="hero-auth-section"></div>
                </div>
            </div>
        </section>
        
        <section id="about" class="about-section">
            <div class="container">
                <h2 class="scifi-heading">å…³äºUPä¸»</h2>
                <p class="scifi-text">æ ¹æ® 2026å¹´2æœˆ9æ—¥æ™šä¸Šç»Ÿè®¡ï¼Œupçš„ç²‰ä¸æ˜¯2456äººï¼Œè§†é¢‘æ’­æ”¾17.6ä¸‡ï¼Œ177æ¡å¼¹å¹•ï¼Œ4155æ¡è¯„è®ºï¼Œ7826ä¸ªç‚¹èµã€‚ä»£è¡¨ä½œï¼šã€Šå…¨ç½‘æœ€å…¨çš„Windowsç½‘é¡µç‰ˆï¼Œä½ å€¼å¾—æ‹¥æœ‰ï¼ï¼ï¼ã€‹ï¼Œæœ€æ–°ç¨¿ä»¶ï¼šã€Šä»€ä¹ˆæ‰æ˜¯çœŸæ­£å¥½çš„å·¥å…·ï¼Ÿè¿™äº”ä¸ªåº”ç”¨æ‰æ˜¯çœŸçš„è£…æœºå¿…å¤‡ï¼å¥½ç”¨åˆ°çˆ†ï¼ï¼ï¼ã€‹ï¼Œç²‰ä¸å›¢åç§°ï¼šDäº‘å›¢ã€‚</p>
                
                <div class="features">
                    <div class="feature-card" tabindex="0" data-card-type="tech">
                        <div class="card-icon">ğŸ’»</div>
                        <h3>æŠ€æœ¯åˆ†äº«</h3>
                        <p>å‰æ²¿æŠ€æœ¯è§£æä¸å®è·µç»éªŒ</p>
                        <div class="card-glow"></div>
                    </div>
                    
                    <div class="feature-card" tabindex="0" data-card-type="creative">
                        <div class="card-icon">ğŸ¨</div>
                        <h3>åˆ›æ„ä½œå“</h3>
                        <p>åŸåˆ›é¡¹ç›®ä¸è®¾è®¡æ€è·¯</p>
                        <div class="card-glow"></div>
                    </div>
                    
                    <div class="feature-card" tabindex="0" data-card-type="community">
                        <div class="card-icon">ğŸ‘¥</div>
                        <h3>ç¤¾åŒºäº’åŠ¨</h3>
                        <p>ä¸ç²‰ä¸äº¤æµåˆ†äº«å¿ƒå¾—</p>
                        <div class="card-glow"></div>
                    </div>
                    
                    <div class="feature-card" tabindex="0" data-card-type="optimization">
                        <div class="card-icon">âš¡</div>
                        <h3>ç³»ç»Ÿä¼˜åŒ–</h3>
                        <p>æ€§èƒ½è°ƒä¼˜ä¸ç”¨æˆ·ä½“éªŒæå‡</p>
                        <div class="card-glow"></div>
                    </div>
                </div>
                
                <div style="margin-top: 3rem; text-align: center; opacity: 0.7;">
                    <p class="scifi-text" style="font-size: 0.9rem;">
                        å…± <span style="color: #00f3ff; font-weight: bold;">4</span> å¼ ç‰¹æ•ˆå¡ç‰‡ï¼Œç‚¹å‡»ä½“éªŒäº¤äº’æ•ˆæœ
                    </p>
                </div>
            </div>
        </section>
        
        <section class="hint-section" style="padding: 1rem; text-align: center; opacity: 0.7;">
            <p class="scifi-text" style="font-size: 0.9rem;">
                ğŸ’¡ æç¤ºï¼šç‚¹å‡»å¡ç‰‡ä½“éªŒç‰¹æ•ˆï¼Œç‚¹å‡»å…¶ä»–åœ°æ–¹æ¢å¤åŸçŠ¶
            </p>
            <p class="scifi-text" style="font-size: 0.9rem; margin-top: 0.5rem;">
                <span id="auth-hint">ğŸ” <a href="login.html" style="color: #00f3ff; text-decoration: underline;">æ³¨å†Œè´¦æˆ·</a> è§£é”æ›´å¤šä¸ªæ€§åŒ–åŠŸèƒ½</span>
            </p>
        </section>
    </main>

    <footer id="contact">
        <div class="footer-container">
            <p class="scifi-text">&copy; 2025 System_VM_D62E ç‰ˆæƒæ‰€æœ‰</p>
            <p class="scifi-text">è”ç³»é‚®ç®±: <a href="mailto:3820332398@qq.com" class="scifi-link">3820332398@qq.com</a></p>
            <p class="scifi-text" style="margin-top: 1rem;" id="footer-auth-link"></p>
            <p class="scifi-text" style="margin-top: 1rem; font-size: 0.9rem; opacity: 0.6;">
                æœ¬ç«™å·²ä¼˜åŒ–æ”¯æŒï¼šChromeã€Firefoxã€Safariã€Edgeã€ç™¾åº¦æµè§ˆå™¨ã€Viaæµè§ˆå™¨ã€å¤¸å…‹æµè§ˆå™¨
            </p>
            <p class="scifi-text" style="margin-top: 0.5rem; font-size: 0.8rem; opacity: 0.4;">
                å½“å‰æ—¶é—´ï¼š<span id="current-time"></span>
            </p>
        </div>
    </footer>

    <!-- JavaScriptæ–‡ä»¶ -->
    <script src="performance.js" defer></script>
    <script src="adaptive-card-system.js" defer></script>
    <script src="script.js" defer></script>
    
    <!-- å†…è”è„šæœ¬ - èœå•åŠŸèƒ½å’Œç™»å½•çŠ¶æ€ç®¡ç† -->
    <script>
        (function() {
            'use strict';
            
            // ==== æ±‰å ¡èœå•åŠŸèƒ½ï¼ˆç‹¬ç«‹è¿è¡Œï¼Œä¸ä¾èµ–å…¶ä»–è„šæœ¬ï¼‰====
            function initHamburgerMenu() {
                const hamburgerBtn = document.getElementById('hamburger-btn');
                const navMenu = document.getElementById('nav-menu');
                const menuOverlay = document.getElementById('menu-overlay');
                
                if (!hamburgerBtn || !navMenu || !menuOverlay) {
                    console.error('èœå•å…ƒç´ æœªæ‰¾åˆ°');
                    return;
                }
                
                // åˆå§‹çŠ¶æ€
                hamburgerBtn.classList.remove('active');
                navMenu.classList.remove('active');
                menuOverlay.classList.remove('active');
                document.body.style.overflow = '';
                
                // åˆ‡æ¢èœå•
                function toggleMenu() {
                    const isActive = hamburgerBtn.classList.contains('active');
                    
                    if (isActive) {
                        // å…³é—­
                        hamburgerBtn.classList.remove('active');
                        navMenu.classList.remove('active');
                        menuOverlay.classList.remove('active');
                        document.body.style.overflow = '';
                    } else {
                        // æ‰“å¼€
                        hamburgerBtn.classList.add('active');
                        navMenu.classList.add('active');
                        menuOverlay.classList.add('active');
                        document.body.style.overflow = 'hidden';
                    }
                }
                
                // å…³é—­èœå•
                function closeMenu() {
                    hamburgerBtn.classList.remove('active');
                    navMenu.classList.remove('active');
                    menuOverlay.classList.remove('active');
                    document.body.style.overflow = '';
                }
                
                // ç‚¹å‡»æ±‰å ¡æŒ‰é’®
                hamburgerBtn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    toggleMenu();
                });
                
                // ç‚¹å‡»é®ç½©å±‚å…³é—­
                menuOverlay.addEventListener('click', closeMenu);
                
                // ç‚¹å‡»èœå•é¡¹å…³é—­
                navMenu.querySelectorAll('a, button').forEach(function(item) {
                    item.addEventListener('click', closeMenu);
                });
                
                // çª—å£å¤§å°å˜åŒ–
                window.addEventListener('resize', function() {
                    if (window.innerWidth > 768) {
                        closeMenu();
                    }
                });
                
                // ESCé”®å…³é—­
                document.addEventListener('keydown', function(e) {
                    if (e.key === 'Escape' && hamburgerBtn.classList.contains('active')) {
                        closeMenu();
                    }
                });
                
                console.log('ç´§å‡‘å‹æ±‰å ¡èœå•åˆå§‹åŒ–æˆåŠŸ');
            }
            
            // ==== ç™»å½•çŠ¶æ€ç®¡ç† ====
            function updateAuthUI() {
                const savedUser = localStorage.getItem('admin_user');
                const authNavItem = document.getElementById('auth-nav-item');
                const heroAuthSection = document.getElementById('hero-auth-section');
                const authHint = document.getElementById('auth-hint');
                const footerAuthLink = document.getElementById('footer-auth-link');
                const loginIndicator = document.getElementById('login-indicator');
                
                if (savedUser) {
                    try {
                        const user = JSON.parse(savedUser);
                        const username = user.username || user.full_name || 'ç”¨æˆ·';
                        const userRole = user.role || 'user';
                        
                        // æ›´æ–°å¯¼èˆªæ ç”¨æˆ·çŠ¶æ€
                        if (authNavItem) {
                            let userLink = '';
                            if (userRole === 'admin' || userRole === 'moderator') {
                                userLink = '<a href="admin.html" class="scifi-link user-status"><span class="btn-icon">ğŸ‘¤</span> ' + username + ' (ç®¡ç†)</a>';
                            } else {
                                userLink = '<a href="profile.html" class="scifi-link user-status"><span class="btn-icon">ğŸ‘¤</span> ' + username + '</a>';
                            }
                            authNavItem.innerHTML = userLink;
                        }
                        
                        // æ›´æ–°è‹±é›„åŒºè®¤è¯éƒ¨åˆ†
                        if (heroAuthSection) {
                            let adminLink = (userRole === 'admin' || userRole === 'moderator') ? 'ç®¡ç†åå°' : 'ä¸ªäººä¸­å¿ƒ';
                            let icon = (userRole === 'admin' || userRole === 'moderator') ? 'âš™ï¸' : 'ğŸ‘¤';
                            
                            heroAuthSection.innerHTML = `
                                <a href="${userRole === 'admin' || userRole === 'moderator' ? 'admin.html' : 'profile.html'}" class="scifi-button auth-btn-large user-btn-large" style="margin-top: 1.5rem;">
                                    <span class="btn-icon">${icon}</span>
                                    <span class="btn-text">${adminLink}</span>
                                    <span class="btn-subtext">${username}</span>
                                </a>
                            `;
                        }
                        
                        // æ›´æ–°æç¤ºæ–‡æœ¬
                        if (authHint) {
                            authHint.innerHTML = `ğŸ‘‹ æ¬¢è¿å›æ¥ï¼Œ${username}ï¼<a href="${userRole === 'admin' || userRole === 'moderator' ? 'admin.html' : 'profile.html'}" style="color: #00f3ff; text-decoration: underline;">${userRole === 'admin' || userRole === 'moderator' ? 'è¿›å…¥ç®¡ç†åå°' : 'æŸ¥çœ‹ä¸ªäººä¸­å¿ƒ'}</a>`;
                        }
                        
                        // æ›´æ–°é¡µè„šè®¤è¯é“¾æ¥
                        if (footerAuthLink) {
                            footerAuthLink.innerHTML = `<a href="#" onclick="logoutUser(); return false;" class="scifi-link" style="color: #ff6b6b; font-weight: bold;">ğŸ”“ é€€å‡ºç™»å½• (${username})</a>`;
                        }
                        
                        // æ˜¾ç¤ºç™»å½•æŒ‡ç¤ºå™¨
                        if (loginIndicator) {
                            loginIndicator.textContent = `ğŸ‘‹ å·²ç™»å½• - ${username}`;
                            loginIndicator.classList.add('visible');
                            setTimeout(() => loginIndicator.classList.remove('visible'), 3000);
                        }
                        
                    } catch (error) {
                        console.error('è§£æç”¨æˆ·ä¿¡æ¯å¤±è´¥:', error);
                        showLoginUI();
                    }
                } else {
                    showLoginUI();
                }
            }
            
            function showLoginUI() {
                const authNavItem = document.getElementById('auth-nav-item');
                const heroAuthSection = document.getElementById('hero-auth-section');
                const authHint = document.getElementById('auth-hint');
                const footerAuthLink = document.getElementById('footer-auth-link');
                
                if (authNavItem) {
                    authNavItem.innerHTML = '<a href="login.html" class="scifi-link auth-link"><span class="btn-icon">ğŸ”</span> æ³¨å†Œ/ç™»å½•</a>';
                }
                
                if (heroAuthSection) {
                    heroAuthSection.innerHTML = `
                        <a href="login.html" class="scifi-button auth-btn-large" style="margin-top: 1.5rem;">
                            <span class="btn-icon">ğŸ”</span>
                            <span class="btn-text">æ³¨å†Œ / ç™»å½•</span>
                            <span class="btn-subtext">ä½“éªŒå®Œæ•´åŠŸèƒ½</span>
                        </a>
                    `;
                }
                
                if (authHint) {
                    authHint.innerHTML = 'ğŸ” <a href="login.html" style="color: #00f3ff; text-decoration: underline;">æ³¨å†Œè´¦æˆ·</a> è§£é”æ›´å¤šä¸ªæ€§åŒ–åŠŸèƒ½';
                }
                
                if (footerAuthLink) {
                    footerAuthLink.innerHTML = '<a href="login.html" class="scifi-link" style="color: #00f3ff; font-weight: bold;">ğŸ” ç‚¹å‡»è¿™é‡Œæ³¨å†Œæˆ–ç™»å½•</a>';
                }
            }
            
            // é€€å‡ºç™»å½•å‡½æ•°
            window.logoutUser = function() {
                if (confirm('ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ')) {
                    localStorage.removeItem('admin_user');
                    alert('å·²æˆåŠŸé€€å‡ºç™»å½•');
                    window.location.reload();
                }
            };
            
            // ==== åˆå§‹åŒ– ====
            function init() {
                initHamburgerMenu();
                updateAuthUI();
                
                // æ›´æ–°æ—¶é—´
                function updateTime() {
                    const el = document.getElementById('current-time');
                    if (el) {
                        const now = new Date();
                        const year = now.getFullYear();
                        const month = String(now.getMonth() + 1).padStart(2, '0');
                        const day = String(now.getDate()).padStart(2, '0');
                        const hours = String(now.getHours()).padStart(2, '0');
                        const minutes = String(now.getMinutes()).padStart(2, '0');
                        const seconds = String(now.getSeconds()).padStart(2, '0');
                        el.textContent = `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;
                    }
                }
                updateTime();
                setInterval(updateTime, 1000);
                
                // æç¤ºæ¡†
                setTimeout(() => {
                    const hint = document.getElementById('click-hint');
                    if (hint) {
                        hint.style.display = 'block';
                        setTimeout(() => hint.style.display = 'none', 3000);
                    }
                }, 1000);
            }
            
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', init);
            } else {
                init();
            }
            
            // ç›‘å¬æœ¬åœ°å­˜å‚¨å˜åŒ–
            window.addEventListener('storage', function(e) {
                if (e.key === 'admin_user') {
                    setTimeout(updateAuthUI, 100);
                }
            });
        })();
    </script>
</body>
</html>
