<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System_VM_D62Eå®˜æ–¹ç½‘ç«™</title>
    
    <!-- é’ˆå¯¹ä¸åŒæµè§ˆå™¨çš„ä¼˜åŒ– -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#0a0a1a">
    <meta name="baidu-site-verification" content="codeva-RxYVGyqgJc">
    
    <!-- DNSé¢„è¿æ¥ -->
    <link rel="dns-prefetch" href="//pics1.baidu.com">
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="dns-prefetch" href="//fonts.gstatic.com">
    
    <!-- é¢„åŠ è½½å…³é”®èµ„æº -->
    <link rel="preload" href="style-optimized.css" as="style">
    <link rel="preload" href="adaptive-card-styles.css" as="style">
    <link rel="preload" href="performance.js" as="script">
    <link rel="preload" href="adaptive-card-system.js" as="script">
    <link rel="preload" href="script.js" as="script">
    
    <!-- æ ·å¼æ–‡ä»¶ï¼ˆä¿®å¤åçš„åˆå¹¶ç‰ˆæœ¬ï¼‰ -->
    <link rel="stylesheet" href="style-optimized.css">
    <link rel="stylesheet" href="adaptive-card-styles.css">
    
    <!-- é’ˆå¯¹4å¼ å¡ç‰‡çš„ä¼˜åŒ–æ ·å¼ -->
    <style>
        /* é’ˆå¯¹4å¼ å¡ç‰‡çš„å¸ƒå±€ä¼˜åŒ– */
        @media (min-width: 1024px) and (max-width: 1199px) {
            .features {
                grid-template-columns: repeat(2, minmax(300px, 1fr));
            }
        }
        
        @media (min-width: 1200px) and (max-width: 1399px) {
            .features {
                grid-template-columns: repeat(2, minmax(350px, 1fr));
            }
        }
        
        @media (min-width: 1400px) {
            .features {
                grid-template-columns: repeat(2, minmax(400px, 1fr));
            }
        }
        
        /* ç§»åŠ¨ç«¯4å¼ å¡ç‰‡ä¼˜åŒ– */
        @media (max-width: 768px) {
            .features {
                grid-template-columns: repeat(2, minmax(150px, 1fr));
                gap: 1rem;
            }
            
            .feature-card {
                min-height: 200px;
                padding: 1.2rem 0.8rem;
            }
            
            .card-icon {
                font-size: 2rem;
            }
            
            .feature-card h3 {
                font-size: 1.1rem;
                margin-bottom: 0.5rem;
            }
            
            .feature-card p {
                font-size: 0.85rem;
                line-height: 1.4;
            }
        }
        
        @media (max-width: 480px) {
            .features {
                grid-template-columns: 1fr;
                max-width: 320px;
                margin: 2rem auto 0;
            }
            
            .feature-card {
                min-height: 180px;
                padding: 1.5rem 1rem;
            }
        }
        
        /* ä¿æŒåŸæœ‰çš„åŸºç¡€å›é€€æ ·å¼ */
        .no-cssgrid .features {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 1.5rem;
        }
        
        .no-cssgrid .feature-card {
            flex: 0 0 calc(50% - 1.5rem);
            min-width: 280px;
        }
        
        @media (max-width: 992px) {
            .no-cssgrid .feature-card {
                flex: 0 0 calc(50% - 1.5rem);
            }
        }
        
        @media (max-width: 768px) {
            .no-cssgrid .feature-card {
                flex: 0 0 100%;
            }
        }
        
        /* å…¶ä»–ç°æœ‰æ ·å¼ä¿æŒä¸å˜... */
        .logo.lazy-load {
            background: linear-gradient(90deg, #0a0a1a 0%, #1a1a2e 50%, #0a0a1a 100%);
            background-size: 200% 100%;
            animation: loadingShimmer 1.5s infinite linear;
        }
        
        @keyframes loadingShimmer {
            0% {
                background-position: -200% 0;
            }
            100% {
                background-position: 200% 0;
            }
        }
        
        .click-outside-hint {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(0, 243, 255, 0.1);
            border: 1px solid rgba(0, 243, 255, 0.3);
            color: #00f3ff;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 0.8rem;
            opacity: 0.8;
            z-index: 1000;
            backdrop-filter: blur(5px);
            animation: fadeInOut 3s ease-in-out;
            display: none;
            pointer-events: none;
        }
        
        @keyframes fadeInOut {
            0%, 100% { opacity: 0; transform: translateY(10px); }
            20%, 80% { opacity: 0.8; transform: translateY(0); }
        }
        
        .visually-hidden {
            position: absolute !important;
            width: 1px !important;
            height: 1px !important;
            padding: 0 !important;
            margin: -1px !important;
            overflow: hidden !important;
            clip: rect(0, 0, 0, 0) !important;
            white-space: nowrap !important;
            border: 0 !important;
        }
        
        .performance-mode .feature-card {
            animation: none !important;
        }
        
        .page-hidden {
            animation-play-state: paused !important;
        }
        
        html {
            -webkit-overflow-scrolling: touch;
        }
        
        body {
            overscroll-behavior-y: none;
        }
        
        .scrollable-content {
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
    </style>
</head>

<body data-main-script-initialized="false">
    <!-- ç§‘å¹»èƒŒæ™¯æ•ˆæœ -->
    <div class="scifi-bg">
        <div class="grid-lines"></div>
        <div class="floating-particles">
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
        </div>
    </div>
    
    <!-- å…¨å±€æç¤º -->
    <div class="click-outside-hint" id="click-hint" role="status" aria-live="polite">
        æ–°å¢å¡ç‰‡ä¼˜åŒ–å’Œç³»ç»Ÿæ”¯æŒè¡¥ä¸ï¼ˆç‰ˆæœ¬ï¼š8.1.0.4.12ï¼‰
    </div>
    
    <!-- å±å¹•é˜…è¯»å™¨ä¸“ç”¨æç¤º -->
    <div class="visually-hidden" id="screen-reader-hint">
        è¿™æ˜¯ä¸€ä¸ªç§‘æŠ€é£æ ¼çš„ä¸ªäººé¡¹ç›®å±•ç¤ºé¡µé¢ï¼ŒåŒ…å«å¡ç‰‡äº¤äº’ç‰¹æ•ˆ
    </div>
    
    <!-- å¤´éƒ¨å¯¼èˆª -->
    <header>
        <div class="header-container">
            <h1 class="scifi-title">System_VM_D62E</h1>
            <nav class="navbar" aria-label="ä¸»å¯¼èˆª">
                <button class="nav-toggle" aria-label="åˆ‡æ¢èœå•" aria-expanded="false" aria-controls="nav-menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <ul class="nav-menu" id="nav-menu">
                    <li><a href="#about" class="scifi-link">å…³äºUP</a></li>
                    <li><a href="https://m.bilibili.com/space/3546812044544535" target="_blank" rel="noopener" class="scifi-link">ä½œè€…ä¿¡æ¯</a></li>
                    <li><button class="scifi-button download-btn-main" id="download-btn">
                        ä¸‹è½½APP
                    </button></li>
                    <li><button id="theme-toggle" class="theme-btn scifi-button">ğŸŒ“ æš—è‰²æ¨¡å¼</button></li>
                </ul>
            </nav>
        </div>
        <div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0"></div>
    </header>

    <!-- ä¸»å†…å®¹åŒºåŸŸ -->
    <main class="scrollable-content">
        <section class="hero" aria-label="æ¬¢è¿åŒºåŸŸ">
            <div class="hero-content">
                <!-- LogoåŒºåŸŸ -->
                <div class="logo-container">
                    <div class="logo-glow"></div>
                    <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgZmlsbD0iIzBhMGEyMiIvPjwvc3ZnPg==" 
                         data-src="https://pics1.baidu.com/feed/79f0f736afc37931e6c973ea8baf5a4f41a911c2@f_auto?token=666eac13d2aab8d4d632662a0a40ca03&f=png" 
                         alt="System_VM_D62E Logo" 
                         class="logo lazy-load"
                         width="150"
                         height="150"
                         loading="lazy">
                </div>
                
                <!-- æ ‡é¢˜å’Œæè¿° -->
                <h2 class="scifi-heading">æ¬¢è¿æ¥åˆ° <span class="highlight">System_VM_D62E</span> å®˜æ–¹ç½‘é¡µ</h2>
                <p class="scifi-text">æ¢ç´¢æŠ€æœ¯ä¸åˆ›æ„çš„æ— é™å¯èƒ½</p>
                
                <!-- è¿›åº¦æ¡ -->
                <div class="progress-container">
                    <label for="system-progress" class="scifi-label">ç³»ç»ŸåŠ è½½è¿›åº¦:</label>
                    <div class="progress-wrapper">
                        <progress id="system-progress" value="75" max="100" aria-label="ç³»ç»ŸåŠ è½½è¿›åº¦">75%</progress>
                        <div class="progress-glow"></div>
                    </div>
                    <span class="progress-text">75%</span>
                </div>
                
                <!-- ä¸»ä¸‹è½½æŒ‰é’® -->
                <div class="download-section">
                    <button class="scifi-button download-btn-large hero-download-btn" 
                            id="hero-download-btn"
                            aria-label="ä¸‹è½½ Android ç‰ˆæœ¬åº”ç”¨">
                        <span class="btn-icon">ğŸ“±</span>
                        <span class="btn-text">ä¸‹è½½ Androidç‰ˆ</span>
                        <span class="btn-subtext">v0.9.8 â€¢ æµ‹è¯•ç‰ˆæœ¬</span>
                        <div class="download-progress"></div>
                    </button>
                </div>
            </div>
        </section>
        
        <!-- å…³äºUPä¸»åŒºåŸŸ -->
        <section id="about" class="about-section" aria-label="å…³äºUPä¸»">
            <div class="container">
                <h2 class="scifi-heading">å…³äºUPä¸»</h2>
                <p class="scifi-text">æ ¹æ® 2026å¹´1æœˆ4æ—¥æ™šä¸Šç»Ÿè®¡ï¼Œupçš„ç²‰ä¸æ˜¯1975äººï¼Œè§†é¢‘æ’­æ”¾14.2ä¸‡ï¼Œ134æ¡å¼¹å¹•ï¼Œ3231æ¡è¯„è®ºï¼Œ6660ä¸ªç‚¹èµã€‚ä»£è¡¨ä½œï¼šã€Šå…¨ç½‘æœ€å…¨çš„Windowsç½‘é¡µç‰ˆï¼Œä½ å€¼å¾—æ‹¥æœ‰ï¼ï¼ï¼ã€‹ï¼Œæœ€æ–°ç¨¿ä»¶ï¼šã€Šä¸å°±æ˜¯Cç›˜æ»¡äº†å—ï¼Œåˆè€æˆ‘ä½•ï¼Ÿå°ç™½æœ‰æ•‘äº†ï¼ï¼ï¼ã€‹ï¼Œç²‰ä¸å›¢åç§°ï¼šDäº‘å›¢ã€‚</p>
                
                <!-- ç‰¹æ€§å¡ç‰‡åŒºåŸŸ - ç°åœ¨æœ‰4å¼ å¡ç‰‡ -->
                <div class="features">
                    <div class="feature-card" role="button" tabindex="0" aria-label="æŠ€æœ¯åˆ†äº«å¡ç‰‡" data-card-type="tech">
                        <div class="card-icon">ğŸ’»</div>
                        <h3>æŠ€æœ¯åˆ†äº«</h3>
                        <p>å‰æ²¿æŠ€æœ¯è§£æä¸å®è·µç»éªŒ</p>
                        <div class="card-glow"></div>
                    </div>
                    
                    <div class="feature-card" role="button" tabindex="0" aria-label="åˆ›æ„ä½œå“å¡ç‰‡" data-card-type="creative">
                        <div class="card-icon">ğŸ¨</div>
                        <h3>åˆ›æ„ä½œå“</h3>
                        <p>åŸåˆ›é¡¹ç›®ä¸è®¾è®¡æ€è·¯</p>
                        <div class="card-glow"></div>
                    </div>
                    
                    <div class="feature-card" role="button" tabindex="0" aria-label="ç¤¾åŒºäº’åŠ¨å¡ç‰‡" data-card-type="community">
                        <div class="card-icon">ğŸ‘¥</div>
                        <h3>ç¤¾åŒºäº’åŠ¨</h3>
                        <p>ä¸ç²‰ä¸äº¤æµåˆ†äº«å¿ƒå¾—</p>
                        <div class="card-glow"></div>
                    </div>
                    
                    <!-- æ–°å¢çš„ç¬¬å››å¼ å¡ç‰‡ - ç³»ç»Ÿä¼˜åŒ– -->
                    <div class="feature-card" role="button" tabindex="0" aria-label="ç³»ç»Ÿä¼˜åŒ–å¡ç‰‡" data-card-type="optimization">
                        <div class="card-icon">âš¡</div>
                        <h3>ç³»ç»Ÿä¼˜åŒ–</h3>
                        <p>æ€§èƒ½è°ƒä¼˜ä¸ç”¨æˆ·ä½“éªŒæå‡</p>
                        <div class="card-glow"></div>
                    </div>
                </div>
                
                <!-- å¡ç‰‡è¯´æ˜ -->
                <div style="margin-top: 3rem; text-align: center; opacity: 0.7;">
                    <p class="scifi-text" style="font-size: 0.9rem;">
                        å…± <span style="color: #00f3ff; font-weight: bold;">4</span> å¼ ç‰¹æ•ˆå¡ç‰‡ï¼Œç‚¹å‡»ä½“éªŒäº¤äº’æ•ˆæœ
                    </p>
                </div>
            </div>
        </section>
        
        <!-- åŠŸèƒ½æç¤ºåŒºåŸŸ -->
        <section class="hint-section" style="padding: 1rem; text-align: center; opacity: 0.7;" aria-label="æ“ä½œæç¤º">
            <p class="scifi-text" style="font-size: 0.9rem;">
                ğŸ’¡ æç¤ºï¼šç‚¹å‡»å¡ç‰‡ä½“éªŒç‰¹æ•ˆï¼Œç‚¹å‡»å…¶ä»–åœ°æ–¹æ¢å¤åŸçŠ¶
            </p>
        </section>
    </main>

    <!-- é¡µè„š -->
    <footer id="contact" aria-label="è”ç³»ä¿¡æ¯">
        <div class="footer-container">
            <p class="scifi-text">&copy; 2025 System_VM_D62E ç‰ˆæƒæ‰€æœ‰</p>
            <p class="scifi-text">è”ç³»é‚®ç®±: <a href="mailto:3820332398@qq.com" class="scifi-link">3820332398@qq.com</a></p>
            <p class="scifi-text" style="margin-top: 1rem; font-size: 0.9rem; opacity: 0.6;">
                æœ¬ç«™å·²ä¼˜åŒ–æ”¯æŒï¼šChromeã€Firefoxã€Safariã€Edgeã€ç™¾åº¦æµè§ˆå™¨ã€Viaæµè§ˆå™¨ã€å¤¸å…‹æµè§ˆå™¨
            </p>
            <p class="scifi-text" style="margin-top: 0.5rem; font-size: 0.8rem; opacity: 0.4;">
                å½“å‰æ—¶é—´ï¼š<span id="current-time"></span>
            </p>
        </div>
    </footer>

    <!-- JavaScriptæ–‡ä»¶ï¼ˆä¼˜åŒ–åçš„åŠ è½½é¡ºåºï¼‰ -->
    <!-- 1. é¦–å…ˆåŠ è½½è‡ªé€‚åº”å¡ç‰‡ç³»ç»Ÿ -->
    <script src="adaptive-card-system.js" defer></script>
    
    <!-- 2. ç„¶ååŠ è½½æ€§èƒ½ç›‘æ§å±‚ -->
    <script src="performance.js" defer></script>
    
    <!-- 3. æœ€ååŠ è½½ä¸»è„šæœ¬ï¼ˆæ§åˆ¶å™¨ï¼‰ -->
    <script src="script.js" defer></script>
    
    <!-- å†…è”è„šæœ¬ç¡®ä¿å…¼å®¹æ€§å’Œæ ¸å¿ƒåŠŸèƒ½ -->
    <script>
        // ç¡®ä¿é¡µé¢åŠ è½½çŠ¶æ€
        (function() {
            'use strict';
            
            // ç«‹å³è®¾ç½®åŠ è½½çŠ¶æ€
            document.body.setAttribute('data-page-loaded', 'false');
            
            // é¡µé¢å®Œå…¨åŠ è½½å
            window.addEventListener('load', function() {
                document.body.setAttribute('data-page-loaded', 'true');
                document.body.classList.add('loaded');
                
                // æ›´æ–°å½“å‰æ—¶é—´
                function updateTime() {
                    const now = new Date();
                    const timeElement = document.getElementById('current-time');
                    if (timeElement) {
                        timeElement.textContent = now.toLocaleString('zh-CN', {
                            year: 'numeric',
                            month: '2-digit',
                            day: '2-digit',
                            hour: '2-digit',
                            minute: '2-digit',
                            second: '2-digit'
                        });
                    }
                }
                
                // åˆå§‹æ›´æ–°æ—¶é—´
                updateTime();
                // æ¯åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡æ—¶é—´
                setInterval(updateTime, 60000);
                
                // æ˜¾ç¤ºåŠŸèƒ½æç¤º
                setTimeout(function() {
                    const hint = document.getElementById('click-hint');
                    if (hint) {
                        hint.style.display = 'block';
                        setTimeout(function() {
                            hint.style.display = 'none';
                        }, 3000);
                    }
                }, 1000);
                
                // è§¦å‘è‡ªå®šä¹‰äº‹ä»¶
                const event = new CustomEvent('pageFullyLoaded', {
                    detail: { timestamp: new Date().toISOString() }
                });
                window.dispatchEvent(event);
                
                // æ€§èƒ½ç›‘æ§æ ‡è®°
                if (window.performance && window.performance.mark) {
                    window.performance.mark('pageFullyLoaded');
                }
            });
            
            // æµè§ˆå™¨å…¼å®¹æ€§æ£€æµ‹
            function detectBrowserCompatibility() {
                const features = {
                    cssGrid: 'grid' in document.createElement('div').style,
                    flexbox: 'flex' in document.createElement('div').style,
                    transform: 'transform' in document.createElement('div').style,
                    animation: 'animation' in document.createElement('div').style,
                    backdropFilter: 'backdropFilter' in document.createElement('div').style || 
                                  'webkitBackdropFilter' in document.createElement('div').style,
                    intersectionObserver: 'IntersectionObserver' in window,
                    matchMedia: 'matchMedia' in window
                };
                
                // æ·»åŠ æµè§ˆå™¨èƒ½åŠ›ç±»
                const html = document.documentElement;
                if (!features.cssGrid) html.classList.add('no-cssgrid');
                if (!features.flexbox) html.classList.add('no-flexbox');
                if (!features.transform) html.classList.add('no-transform');
                if (!features.animation) html.classList.add('no-animation');
                if (!features.backdropFilter) html.classList.add('no-backdrop-filter');
                if (!features.intersectionObserver) html.classList.add('no-intersection-observer');
                if (!features.matchMedia) html.classList.add('no-match-media');
                
                // æ£€æµ‹ç§»åŠ¨è®¾å¤‡
                const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
                if (isMobile) {
                    html.classList.add('mobile-device');
                }
                
                // æ£€æµ‹è§¦æ‘¸è®¾å¤‡
                const isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
                if (isTouchDevice) {
                    html.classList.add('touch-device');
                }
                
                // æ£€æµ‹ä½æ€§èƒ½è®¾å¤‡
                if (navigator.hardwareConcurrency && navigator.hardwareConcurrency < 4) {
                    html.classList.add('low-performance');
                }
                
                console.log('æµè§ˆå™¨ç‰¹æ€§æ£€æµ‹:', features);
            }
            
            // ç«‹å³æ‰§è¡Œå…¼å®¹æ€§æ£€æµ‹
            detectBrowserCompatibility();
            
            // å¡ç‰‡åŠŸèƒ½æç¤º
            function showCardFunctionHint() {
                const cards = document.querySelectorAll('.feature-card');
                if (cards.length > 0) {
                    console.log(`æ£€æµ‹åˆ° ${cards.length} å¼ ç‰¹æ•ˆå¡ç‰‡`);
                    
                    // æ·»åŠ é¦–æ¬¡ç‚¹å‡»æç¤º
                    let hasShownHint = localStorage.getItem('cardHintShown');
                    if (!hasShownHint) {
                        setTimeout(function() {
                            const hint = document.getElementById('click-hint');
                            if (hint) {
                                hint.textContent = `ğŸ’¡ ç‚¹å‡»${cards.length}å¼ å¡ç‰‡ä½“éªŒäº¤äº’ç‰¹æ•ˆ`;
                                hint.style.display = 'block';
                                setTimeout(function() {
                                    hint.style.display = 'none';
                                }, 3000);
                            }
                            localStorage.setItem('cardHintShown', 'true');
                        }, 2000);
                    }
                }
            }
            
            // åŸºç¡€é”™è¯¯å¤„ç†
            window.addEventListener('error', function(event) {
                console.error('å…¨å±€é”™è¯¯:', event.message, 'at', event.filename + ':' + event.lineno);
                
                // æ˜¾ç¤ºç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º
                if (!document.getElementById('error-toast')) {
                    const errorToast = document.createElement('div');
                    errorToast.id = 'error-toast';
                    errorToast.style.cssText = `
                        position: fixed;
                        bottom: 20px;
                        left: 50%;
                        transform: translateX(-50%);
                        background: rgba(255, 50, 50, 0.9);
                        color: white;
                        padding: 10px 20px;
                        border-radius: 5px;
                        z-index: 10000;
                        display: none;
                    `;
                    errorToast.textContent = 'å‘ç”Ÿäº†ä¸€äº›å°é—®é¢˜ï¼Œæ­£åœ¨è‡ªåŠ¨ä¿®å¤...';
                    document.body.appendChild(errorToast);
                    
                    setTimeout(() => {
                        errorToast.style.display = 'block';
                        setTimeout(() => {
                            errorToast.style.display = 'none';
                        }, 3000);
                    }, 100);
                }
            });
            
            // Promiseé”™è¯¯å¤„ç†
            window.addEventListener('unhandledrejection', function(event) {
                console.warn('æœªå¤„ç†çš„Promiseæ‹’ç»:', event.reason);
            });
            
            // é¡µé¢åŠ è½½å®Œæˆåæ˜¾ç¤ºæç¤º
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', function() {
                    setTimeout(showCardFunctionHint, 500);
                });
            } else {
                setTimeout(showCardFunctionHint, 500);
            }
            
            // é˜²æ­¢è¡¨å•é‡å¤æäº¤ï¼ˆå¦‚æœæœ‰è¡¨å•çš„è¯ï¼‰
            document.addEventListener('submit', function(e) {
                const form = e.target;
                if (form.tagName === 'FORM') {
                    const submitBtn = form.querySelector('button[type="submit"]');
                    if (submitBtn) {
                        submitBtn.disabled = true;
                        setTimeout(() => {
                            submitBtn.disabled = false;
                        }, 3000);
                    }
                }
            });
            
            // æ”¹è¿›çš„è§¦æ‘¸äº‹ä»¶å¤„ç† - ä¿®å¤é¡µé¡¶é¡µè„šæ»‘åŠ¨é—®é¢˜
            let lastTouchY = 0;
            let isScrolling = false;
            
            // touchstart äº‹ä»¶
            document.addEventListener('touchstart', function(e) {
                lastTouchY = e.touches[0].clientY;
                isScrolling = false;
            }, { passive: true });
            
            // touchmove äº‹ä»¶ - ä¿®å¤é¡µé¡¶é¡µè„šæ— æ³•æ»‘åŠ¨é—®é¢˜
            document.addEventListener('touchmove', function(e) {
                // å¦‚æœç›®æ ‡å…ƒç´ æ˜¯è¡¨å•å…ƒç´ ã€å¯ç¼–è¾‘å…ƒç´ æˆ–æœ‰ç‰¹å®šç±»åï¼Œå…è®¸æ»šåŠ¨
                const target = e.target;
                if (target.tagName === 'INPUT' || 
                    target.tagName === 'TEXTAREA' || 
                    target.isContentEditable ||
                    target.closest('.scrollable-content')) {
                    return;
                }
                
                const touch = e.touches[0];
                const deltaY = touch.clientY - lastTouchY;
                lastTouchY = touch.clientY;
                
                // æ£€æŸ¥æ˜¯å¦åœ¨é¡µé¢è¾¹ç¼˜
                const scrollTop = window.scrollY || document.documentElement.scrollTop;
                const scrollHeight = document.documentElement.scrollHeight;
                const clientHeight = document.documentElement.clientHeight;
                
                const isAtTop = scrollTop <= 0;
                const isAtBottom = scrollTop + clientHeight >= scrollHeight - 1;
                
                // æ ‡è®°æ­£åœ¨æ»šåŠ¨
                isScrolling = true;
                
                // åªåœ¨ç‰¹å®šæƒ…å†µä¸‹é˜»æ­¢é»˜è®¤è¡Œä¸º
                if ((isAtTop && deltaY > 0) || (isAtBottom && deltaY < 0)) {
                    // å…è®¸å°å¹…åº¦çš„æ»šåŠ¨ï¼Œåªåœ¨æ˜æ˜¾è¶Šç•Œæ—¶é˜»æ­¢
                    if (Math.abs(deltaY) > 30) {
                        e.preventDefault();
                    }
                }
            }, { passive: false });
            
            // touchend äº‹ä»¶
            document.addEventListener('touchend', function() {
                isScrolling = false;
            }, { passive: true });
            
            // é˜²æ­¢åŒå‡»æ”¾å¤§ - æ”¹è¿›ç‰ˆæœ¬
            let lastTouchEndTime = 0;
            document.addEventListener('touchend', function(e) {
                const now = Date.now();
                if (now - lastTouchEndTime < 300 && e.touches.length === 0) {
                    e.preventDefault();
                }
                lastTouchEndTime = now;
            }, { passive: false });
            
            // ä¸ºæ‰€æœ‰æŒ‰é’®æ·»åŠ åŠ è½½çŠ¶æ€
            document.addEventListener('click', function(e) {
                const button = e.target.closest('button');
                if (button && !button.hasAttribute('disabled')) {
                    // æ·»åŠ çŸ­æš‚çš„æ´»åŠ¨çŠ¶æ€
                    button.classList.add('button-active');
                    setTimeout(() => {
                        button.classList.remove('button-active');
                    }, 300);
                }
            });
            
            // é”®ç›˜å¯¼èˆªæ”¯æŒ
            document.addEventListener('keydown', function(e) {
                // ç©ºæ ¼é”®æ»šåŠ¨
                if (e.key === ' ' || e.key === 'Spacebar') {
                    // åªæœ‰å½“ç„¦ç‚¹ä¸åœ¨å¯è¾“å…¥å…ƒç´ ä¸Šæ—¶æ‰æ»šåŠ¨
                    const activeElement = document.activeElement;
                    if (!activeElement || 
                        (activeElement.tagName !== 'INPUT' && 
                         activeElement.tagName !== 'TEXTAREA' && 
                         !activeElement.isContentEditable)) {
                        e.preventDefault();
                        window.scrollBy({
                            top: window.innerHeight * 0.8,
                            behavior: 'smooth'
                        });
                    }
                }
                
                // Homeé”®å›åˆ°é¡¶éƒ¨
                if (e.key === 'Home') {
                    e.preventDefault();
                    window.scrollTo({
                        top: 0,
                        behavior: 'smooth'
                    });
                }
                
                // Endé”®åˆ°åº•éƒ¨
                if (e.key === 'End') {
                    e.preventDefault();
                    window.scrollTo({
                        top: document.documentElement.scrollHeight,
                        behavior: 'smooth'
                    });
                }
                
                // Page Up/Down é”®
                if (e.key === 'PageUp') {
                    e.preventDefault();
                    window.scrollBy({
                        top: -window.innerHeight * 0.9,
                        behavior: 'smooth'
                    });
                }
                
                if (e.key === 'PageDown') {
                    e.preventDefault();
                    window.scrollBy({
                        top: window.innerHeight * 0.9,
                        behavior: 'smooth'
                    });
                }
            });
            
            // ç½‘ç»œçŠ¶æ€ç›‘æ§
            if (navigator.connection) {
                const connection = navigator.connection;
                connection.addEventListener('change', function() {
                    const speed = connection.effectiveType;
                    console.log('ç½‘ç»œç±»å‹:', speed);
                    
                    // æ ¹æ®ç½‘ç»œçŠ¶å†µè°ƒæ•´åŠ è½½ç­–ç•¥
                    if (speed.includes('2g') || speed.includes('slow-2g')) {
                        document.body.classList.add('slow-network');
                    } else {
                        document.body.classList.remove('slow-network');
                    }
                });
            }
            
            // ç”µæ± çŠ¶æ€ç›‘æ§ï¼ˆå¦‚æœæ”¯æŒï¼‰
            if ('getBattery' in navigator) {
                navigator.getBattery().then(function(battery) {
                    // ä½ç”µé‡æ¨¡å¼
                    if (battery.level < 0.2) {
                        document.body.classList.add('low-battery');
                    }
                    
                    battery.addEventListener('levelchange', function() {
                        if (battery.level < 0.2) {
                            document.body.classList.add('low-battery');
                        } else {
                            document.body.classList.remove('low-battery');
                        }
                    });
                });
            }
            
            // æ»šåŠ¨æ€§èƒ½ä¼˜åŒ–
            let scrollTimeout;
            window.addEventListener('scroll', function() {
                // æ¸…é™¤ä¹‹å‰çš„è¶…æ—¶
                if (scrollTimeout) {
                    clearTimeout(scrollTimeout);
                }
                
                // è®¾ç½®æ–°è¶…æ—¶
                scrollTimeout = setTimeout(function() {
                    // æ»šåŠ¨åœæ­¢åçš„æ“ä½œ
                    const scrollTop = window.scrollY || document.documentElement.scrollTop;
                    
                    // æ»šåŠ¨åˆ°é¡¶éƒ¨æ—¶ä¼˜åŒ–æ€§èƒ½
                    if (scrollTop < 100) {
                        document.body.classList.add('scrolled-to-top');
                    } else {
                        document.body.classList.remove('scrolled-to-top');
                    }
                    
                    // æ»šåŠ¨åˆ°åº•éƒ¨æ—¶ä¼˜åŒ–æ€§èƒ½
                    const scrollHeight = document.documentElement.scrollHeight;
                    const clientHeight = document.documentElement.clientHeight;
                    if (scrollTop + clientHeight >= scrollHeight - 50) {
                        document.body.classList.add('scrolled-to-bottom');
                    } else {
                        document.body.classList.remove('scrolled-to-bottom');
                    }
                }, 100);
            }, { passive: true });
            
            // åˆå§‹æ»šåŠ¨çŠ¶æ€æ£€æµ‹
            setTimeout(function() {
                const scrollTop = window.scrollY || document.documentElement.scrollTop;
                if (scrollTop === 0) {
                    document.body.classList.add('scrolled-to-top');
                }
            }, 100);
            
            // æ”¹è¿›çš„iOSæ©¡çš®ç­‹æ•ˆæœå¤„ç†
            if (/iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream) {
                // é’ˆå¯¹iOSçš„ä¼˜åŒ–
                document.addEventListener('touchmove', function(e) {
                    const target = e.target;
                    const scrollable = target.closest('.scrollable-content, .scrollable');
                    
                    // å¦‚æœæ˜¯åœ¨å¯æ»šåŠ¨åŒºåŸŸå†…ï¼Œä½¿ç”¨æ›´å®½æ¾çš„ç­–ç•¥
                    if (scrollable) {
                        const scrollTop = scrollable.scrollTop;
                        const scrollHeight = scrollable.scrollHeight;
                        const clientHeight = scrollable.clientHeight;
                        
                        const isAtTop = scrollTop <= 0;
                        const isAtBottom = scrollTop + clientHeight >= scrollHeight - 1;
                        
                        if ((isAtTop || isAtBottom) && scrollable === document.documentElement) {
                            // å…è®¸æ­£å¸¸çš„æ»šåŠ¨
                            return;
                        }
                    }
                }, { passive: true });
            }
            
            // ç›‘å¬å¡ç‰‡ç‰¹æ•ˆç³»ç»ŸåŠ è½½
            document.addEventListener('DOMContentLoaded', function() {
                // ç­‰å¾…è‡ªé€‚åº”å¡ç‰‡ç³»ç»ŸåŠ è½½
                setTimeout(function() {
                    const cards = document.querySelectorAll('.feature-card');
                    console.log(`ç‰¹æ•ˆå¡ç‰‡ç³»ç»Ÿå·²åŠ è½½ï¼Œå…± ${cards.length} å¼ å¡ç‰‡`);
                    
                    // ä¸ºæ¯å¼ å¡ç‰‡æ·»åŠ æ•°æ®å±æ€§
                    cards.forEach((card, index) => {
                        card.setAttribute('data-card-id', `card-${index + 1}`);
                    });
                }, 1000);
            });
        })();

// åœ¨ index.html çš„ <script> æ ‡ç­¾ä¸­æ·»åŠ 
document.addEventListener('DOMContentLoaded', function() {
    // ç­‰å¾…æ‰€æœ‰èµ„æºåŠ è½½å®Œæˆ
    window.addEventListener('load', function() {
        // ç¡®ä¿å¡ç‰‡ç³»ç»Ÿå·²åˆå§‹åŒ–
        if (window.AdaptiveCardEffects) {
            console.log('å¡ç‰‡ç‰¹æ•ˆç³»ç»Ÿå·²åŠ è½½');
            
            // æµ‹è¯•å¡ç‰‡åŠŸèƒ½
            const cards = document.querySelectorAll('.feature-card');
            console.log(`æ‰¾åˆ° ${cards.length} å¼ å¡ç‰‡`);
            
            // æ·»åŠ æµ‹è¯•æŒ‰é’®ï¼ˆå¯é€‰ï¼Œç”¨äºè°ƒè¯•ï¼‰
            if (cards.length > 0) {
                const testCard = cards[0];
                setTimeout(() => {
                    // è‡ªåŠ¨æµ‹è¯•ç¬¬ä¸€å¼ å¡ç‰‡ï¼ˆä»…ç”¨äºè°ƒè¯•ï¼‰
                    // window.AdaptiveCardEffects.triggerCardEffect(testCard);
                }, 2000);
            }
        }
    });
});

    </script>
</body>
</html>