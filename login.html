<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System_VM_D62E - ç™»å½•</title>
    <!-- å…¨éƒ¨æ ·å¼å†…è” -->
    <style>
        /* ä¿®å¤ï¼šç¡®ä¿é¡µé¢å¯ä»¥æ»šåŠ¨ */
        html, body {
            height: 100%;
            overflow: auto;
            -webkit-overflow-scrolling: touch; /* iOSå¹³æ»‘æ»šåŠ¨ */
            margin: 0;
            padding: 0;
        }
        
        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #0a0a1a 0%, #1a1a2e 50%, #16213e 100%);
            position: relative;
        }

        /* ç»§æ‰¿ä¸»ç«™ç§‘å¹»é£æ ¼ - ä¿®å¤èƒŒæ™¯é—®é¢˜ */
        .auth-page {
            background: linear-gradient(135deg, #0a0a1a 0%, #1a1a2e 50%, #16213e 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            position: relative;
            overflow: visible; /* æ”¹ä¸ºvisibleè€Œä¸æ˜¯hidden */
            width: 100%;
        }
        
        /* ä¿®å¤ï¼šèƒŒæ™¯ç½‘æ ¼è¦†ç›–æ•´ä¸ªé¡µé¢ */
        .auth-page::before {
            content: '';
            position: fixed; /* æ”¹ä¸ºfixedä½¿å…¶è¦†ç›–æ•´ä¸ªè§†å£ */
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(0, 212, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 212, 255, 0.03) 1px, transparent 1px);
            background-size: 40px 40px;
            animation: gridMove 30s linear infinite;
            pointer-events: none;
            z-index: -1;
        }
        
        /* æ·»åŠ ä¸€ä¸ªé¢å¤–çš„èƒŒæ™¯å±‚ç¡®ä¿è¦†ç›–æ•´ä¸ªæ»šåŠ¨åŒºåŸŸ */
        .background-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0a0a1a 0%, #1a1a2e 50%, #16213e 100%);
            z-index: -2;
            pointer-events: none;
        }
        
        .back-to-home {
            position: fixed; /* æ”¹ä¸ºfixed */
            top: 20px;
            left: 20px;
            z-index: 10;
        }
        
        .back-btn {
            background: rgba(0, 243, 255, 0.1);
            border: 1px solid rgba(0, 243, 255, 0.3);
            color: #00f3ff;
            padding: 8px 16px;
            border-radius: 4px;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
        }
        
        .back-btn:hover {
            background: rgba(0, 243, 255, 0.2);
            transform: translateX(-3px);
        }
        
        .auth-container {
            background: rgba(20, 25, 45, 0.9);
            border: 1px solid rgba(0, 243, 255, 0.2);
            border-radius: 12px;
            padding: 40px;
            width: 100%;
            max-width: 400px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            position: relative;
            z-index: 1;
            animation: fadeIn 0.5s ease;
            margin: 60px 0; /* æ·»åŠ ä¸Šä¸‹è¾¹è·ç¡®ä¿å†…å®¹å¯ä»¥æ»šåŠ¨ */
        }
        
        /* æ·»åŠ ç§»åŠ¨ç«¯è§¦æ‘¸ä¼˜åŒ– */
        @media (max-width: 768px) {
            .auth-page {
                padding: 10px;
                min-height: calc(100vh - 20px);
            }
            
            .auth-container {
                padding: 30px 20px;
                margin: 40px 0;
                max-width: 90%;
                min-height: auto;
            }
            
            .back-to-home {
                top: 10px;
                left: 10px;
            }
            
            .back-btn {
                padding: 6px 12px;
                font-size: 14px;
            }
        }
        
        /* ç¡®ä¿åœ¨éå¸¸å°çš„å±å¹•ä¸Šä¹Ÿèƒ½æ­£å¸¸æ˜¾ç¤º */
        @media (max-height: 700px) {
            .auth-container {
                margin-top: 40px;
                margin-bottom: 40px;
            }
        }
        
        /* ä¿®å¤ï¼šå½“å†…å®¹é«˜åº¦è¶…è¿‡è§†å£æ—¶ï¼Œç¡®ä¿èƒŒæ™¯è¦†ç›– */
        @media (min-height: 800px) {
            .auth-page {
                min-height: 100vh;
            }
            
            .background-overlay {
                min-height: 100vh;
            }
            
            body::before {
                min-height: 100vh;
            }
        }
        
        /* ä¿®å¤ï¼šç¡®ä¿åœ¨å°å®½åº¦å±å¹•ä¸ŠèƒŒæ™¯ä¾ç„¶å®Œæ•´ */
        @media (max-width: 400px) {
            .auth-page::before {
                background-size: 30px 30px;
            }
            
            .auth-container {
                padding: 25px 15px;
                max-width: 95%;
            }
        }
        
        /* ç¡®ä¿è¡¨å•å…ƒç´ ä¸ä¼šé˜»æ­¢æ»šåŠ¨ */
        .form-input, 
        .form-control,
        textarea,
        select,
        button {
            -webkit-appearance: none;
            appearance: none;
            touch-action: manipulation;
        }
        
        /* ä¿®å¤ç§»åŠ¨ç«¯è¡¨å•è¾“å…¥æ—¶çš„æ»šåŠ¨é—®é¢˜ */
        input:focus, 
        textarea:focus, 
        select:focus {
            font-size: 16px; /* é˜²æ­¢iOSç¼©æ”¾ */
        }
        
        /* è¡¨å•ç»„æ·»åŠ æ›´å¥½çš„é—´è· */
        .form-group {
            margin-bottom: 20px;
        }
        
        /* ç¡®ä¿æŒ‰é’®åœ¨è§¦æ‘¸è®¾å¤‡ä¸Šæœ‰è¶³å¤Ÿçš„ç‚¹å‡»åŒºåŸŸ */
        .submit-btn,
        .social-btn,
        .auth-tab {
            min-height: 44px;
            min-width: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* ä¿®å¤ï¼šè°ƒæ•´ç²’å­èƒŒæ™¯ä½¿å…¶è¦†ç›–æ•´ä¸ªé¡µé¢ */
        .floating-particles {
            position: fixed; /* æ”¹ä¸ºfixedè¦†ç›–æ•´ä¸ªé¡µé¢ */
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            top: 0;
            left: 0;
            overflow: hidden;
        }

        /* å…¶ä»–åŸæœ‰æ ·å¼ä¿æŒä¸å˜... */
        .auth-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .auth-logo {
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
            position: relative;
        }
        
        .auth-logo img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 2px solid rgba(0, 243, 255, 0.3);
        }
        
        .auth-logo::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, rgba(0, 243, 255, 0.2) 0%, transparent 70%);
            filter: blur(15px);
            z-index: -1;
        }
        
        .auth-header h1 {
            color: #00f3ff;
            font-size: 1.8rem;
            margin-bottom: 8px;
            text-shadow: 0 0 10px rgba(0, 243, 255, 0.3);
        }
        
        .auth-header p {
            color: #a0a0a0;
            font-size: 0.9rem;
        }
        
        .auth-tabs {
            display: flex;
            margin-bottom: 30px;
            border-bottom: 1px solid rgba(0, 243, 255, 0.1);
        }
        
        .auth-tab {
            flex: 1;
            padding: 12px;
            background: none;
            border: none;
            color: #a0a0a0;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .auth-tab.active {
            color: #00f3ff;
        }
        
        .auth-tab.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, #00c9ff, #007acc);
        }
        
        .auth-form {
            display: none;
            animation: fadeIn 0.3s ease;
        }
        
        .auth-form.active {
            display: block;
        }
        
        .form-label {
            display: block;
            color: #e0e0e0;
            margin-bottom: 8px;
            font-size: 0.9rem;
        }
        
        .form-input {
            width: 100%;
            padding: 12px 16px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(0, 243, 255, 0.2);
            border-radius: 6px;
            color: #e0e0e0;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        .form-input:focus {
            outline: none;
            border-color: rgba(0, 243, 255, 0.5);
            box-shadow: 0 0 0 2px rgba(0, 243, 255, 0.1);
        }
        
        .form-input::placeholder {
            color: #666;
        }
        
        .password-toggle {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #a0a0a0;
            cursor: pointer;
            padding: 4px;
        }
        
        .password-input {
            position: relative;
        }
        
        .form-options {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .checkbox-label {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #a0a0a0;
            font-size: 0.9rem;
            cursor: pointer;
        }
        
        .checkbox-label input[type="checkbox"] {
            width: 16px;
            height: 16px;
            accent-color: #00f3ff;
        }
        
        .forgot-password {
            color: #00f3ff;
            text-decoration: none;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }
        
        .forgot-password:hover {
            text-shadow: 0 0 5px rgba(0, 243, 255, 0.5);
        }
        
        .submit-btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #00c9ff, #007acc);
            border: none;
            border-radius: 6px;
            color: white;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 201, 255, 0.3);
        }
        
        .submit-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
        }
        
        .submit-btn.loading::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 20px;
            height: 20px;
            border: 2px solid transparent;
            border-top-color: white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        .auth-divider {
            text-align: center;
            margin: 30px 0;
            position: relative;
            color: #666;
        }
        
        .auth-divider::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: rgba(0, 243, 255, 0.1);
        }
        
        .auth-divider span {
            background: rgba(20, 25, 45, 0.9);
            padding: 0 15px;
            position: relative;
            z-index: 1;
        }
        
        .social-login {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
        }
        
        .social-btn {
            flex: 1;
            padding: 12px;
            border: 1px solid rgba(0, 243, 255, 0.2);
            background: rgba(0, 0, 0, 0.3);
            border-radius: 6px;
            color: #e0e0e0;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .social-btn:hover {
            border-color: rgba(0, 243, 255, 0.4);
            background: rgba(0, 243, 255, 0.05);
        }
        
        .auth-footer {
            text-align: center;
            color: #666;
            font-size: 0.9rem;
        }
        
        .auth-footer a {
            color: #00f3ff;
            text-decoration: none;
        }
        
        .alert {
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 20px;
            font-size: 0.9rem;
            animation: slideIn 0.3s ease;
        }
        
        .alert-success {
            background: rgba(0, 255, 128, 0.1);
            border: 1px solid rgba(0, 255, 128, 0.3);
            color: #00ff80;
        }
        
        .alert-error {
            background: rgba(255, 50, 50, 0.1);
            border: 1px solid rgba(255, 50, 50, 0.3);
            color: #ff3232;
        }
        
        .alert-info {
            background: rgba(0, 243, 255, 0.1);
            border: 1px solid rgba(0, 243, 255, 0.3);
            color: #00f3ff;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        @keyframes spin {
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }
        
        @keyframes gridMove {
            0% { transform: translate(0, 0); }
            100% { transform: translate(40px, 40px); }
        }
        
        @media (max-width: 480px) {
            .auth-container {
                padding: 30px 20px;
            }
            
            .social-login {
                flex-direction: column;
            }
            
            .back-to-home {
                top: 10px;
                left: 10px;
            }
        }
        
        .particle {
            position: absolute;
            background: rgba(0, 243, 255, 0.3);
            border-radius: 50%;
            animation: float 15s infinite linear;
        }
        
        @keyframes float {
            0% {
                transform: translateY(0) translateX(0);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) translateX(50px);
                opacity: 0;
            }
        }
        
        /* é¢å¤–æ ·å¼ */
        .input-hint {
            font-size: 0.8rem;
            color: #666;
            margin-top: 4px;
        }
        
        .strength-meter {
            margin-top: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .strength-bar {
            flex: 1;
            height: 4px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 2px;
            overflow: hidden;
        }
        
        .strength-fill {
            height: 100%;
            transition: width 0.3s ease;
        }
        
        .strength-fill.weak {
            background: #ff3232;
        }
        
        .strength-fill.medium {
            background: #ffa500;
        }
        
        .strength-fill.strong {
            background: #00ff80;
        }
        
        .strength-text {
            font-size: 0.8rem;
            font-weight: bold;
            width: 24px;
        }
        
        .strength-text.weak {
            color: #ff3232;
        }
        
        .strength-text.medium {
            color: #ffa500;
        }
        
        .strength-text.strong {
            color: #00ff80;
        }
    </style>
</head>
<body class="auth-page">
    <!-- æ·»åŠ èƒŒæ™¯è¦†ç›–å±‚ç¡®ä¿æ•´ä¸ªé¡µé¢éƒ½æœ‰èƒŒæ™¯ -->
    <div class="background-overlay"></div>
    
    <!-- èƒŒæ™¯ç½‘æ ¼ -->
    <div class="background-grid"></div>
    
    <!-- ç²’å­èƒŒæ™¯ -->
    <div class="floating-particles" id="particles"></div>
    
    <!-- è¿”å›é¦–é¡µæŒ‰é’® -->
    <div class="back-to-home">
        <a href="index.html" class="back-btn">
            <span>â†</span> è¿”å›é¦–é¡µ
        </a>
    </div>
    
    <!-- è®¤è¯å®¹å™¨ -->
    <div class="auth-container">
        <!-- å¤´éƒ¨ -->
        <div class="auth-header">
            <div class="auth-logo">
                <img src="logo.png" alt="System_VM_D62E Logo">
            </div>
            <h1>System_VM_D62E</h1>
            <p>æ¢ç´¢æŠ€æœ¯ä¸åˆ›æ„çš„æ— é™å¯èƒ½</p>
        </div>
        
        <!-- é€‰é¡¹å¡ -->
        <div class="auth-tabs">
            <button class="auth-tab active" data-tab="login">ç™»å½•</button>
            <button class="auth-tab" data-tab="register">æ³¨å†Œ</button>
        </div>
        
        <!-- æ¶ˆæ¯æç¤º -->
        <div id="message-container"></div>
        
        <!-- ç™»å½•è¡¨å• -->
        <form id="login-form" class="auth-form active">
            <div class="form-group">
                <label class="form-label">ç”¨æˆ·å / é‚®ç®±</label>
                <input type="text" class="form-input" id="login-identifier" 
                       placeholder="è¾“å…¥ç”¨æˆ·åæˆ–é‚®ç®±" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">å¯†ç </label>
                <div class="password-input">
                    <input type="password" class="form-input" id="login-password" 
                           placeholder="è¾“å…¥å¯†ç " required>
                    <button type="button" class="password-toggle" data-target="login-password">
                        ğŸ‘
                    </button>
                </div>
            </div>
            
            <div class="form-options">
                <label class="checkbox-label">
                    <input type="checkbox" id="remember-me">
                    <span>è®°ä½æˆ‘</span>
                </label>
                <a href="#" class="forgot-password" onclick="showMessage('å¯†ç é‡ç½®åŠŸèƒ½å¼€å‘ä¸­...', 'info')">å¿˜è®°å¯†ç ï¼Ÿ</a>
            </div>
            
            <button type="submit" class="submit-btn" id="login-btn">
                ç™»å½•
            </button>
            
            <div class="auth-divider">
                <span>æˆ–ä½¿ç”¨ç¤¾äº¤è´¦å·ç™»å½•</span>
            </div>
            
            <div class="social-login">
                <button type="button" class="social-btn" onclick="showMessage('GitHubç™»å½•åŠŸèƒ½å¼€å‘ä¸­...', 'info')">
                    <span>GitHub</span>
                </button>
                <button type="button" class="social-btn" onclick="showMessage('Googleç™»å½•åŠŸèƒ½å¼€å‘ä¸­...', 'info')">
                    <span>Google</span>
                </button>
            </div>
            
            <div class="auth-footer">
                <p>è¿˜æ²¡æœ‰è´¦æˆ·ï¼Ÿ <a href="#" data-switch="register">ç«‹å³æ³¨å†Œ</a></p>
            </div>
        </form>
        
        <!-- æ³¨å†Œè¡¨å• -->
        <form id="register-form" class="auth-form">
            <div class="form-group">
                <label class="form-label">ç”¨æˆ·å</label>
                <input type="text" class="form-input" id="register-username" 
                       placeholder="è¾“å…¥ç”¨æˆ·å" required minlength="3" maxlength="50">
                <div class="input-hint">3-50ä¸ªå­—ç¬¦ï¼Œå¯åŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿</div>
            </div>
            
            <div class="form-group">
                <label class="form-label">é‚®ç®±åœ°å€</label>
                <input type="email" class="form-input" id="register-email" 
                       placeholder="è¾“å…¥é‚®ç®±" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">å§“å</label>
                <input type="text" class="form-input" id="register-fullname" 
                       placeholder="è¾“å…¥æ‚¨çš„å§“å">
            </div>
            
            <div class="form-group">
                <label class="form-label">å¯†ç </label>
                <div class="password-input">
                    <input type="password" class="form-input" id="register-password" 
                           placeholder="è¾“å…¥å¯†ç " required minlength="8">
                    <button type="button" class="password-toggle" data-target="register-password">
                        ğŸ‘
                    </button>
                </div>
                <div class="input-hint">è‡³å°‘8ä¸ªå­—ç¬¦ï¼ŒåŒ…å«å­—æ¯å’Œæ•°å­—</div>
            </div>
            
            <div class="form-group">
                <label class="form-label">ç¡®è®¤å¯†ç </label>
                <div class="password-input">
                    <input type="password" class="form-input" id="register-confirm-password" 
                           placeholder="å†æ¬¡è¾“å…¥å¯†ç " required>
                    <button type="button" class="password-toggle" data-target="register-confirm-password">
                        ğŸ‘
                    </button>
                </div>
            </div>
            
            <div class="form-group">
                <label class="checkbox-label">
                    <input type="checkbox" id="terms-agree" required>
                    <span>æˆ‘åŒæ„ <a href="#" onclick="showMessage('æœåŠ¡æ¡æ¬¾é¡µé¢å¼€å‘ä¸­...', 'info')">æœåŠ¡æ¡æ¬¾</a> å’Œ <a href="#" onclick="showMessage('éšç§æ”¿ç­–é¡µé¢å¼€å‘ä¸­...', 'info')">éšç§æ”¿ç­–</a></span>
                </label>
            </div>
            
            <button type="submit" class="submit-btn" id="register-btn">
                æ³¨å†Œ
            </button>
            
            <div class="auth-footer" style="margin-top: 20px;">
                <p>å·²æœ‰è´¦æˆ·ï¼Ÿ <a href="#" data-switch="login">ç«‹å³ç™»å½•</a></p>
            </div>
        </form>
    </div>
    
    <script>
        // åˆå§‹åŒ–ç²’å­èƒŒæ™¯
        function initParticles() {
            const container = document.getElementById('particles');
            const particleCount = 12;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                // éšæœºå¤§å°
                const size = Math.random() * 4 + 2;
                
                // éšæœºä½ç½®
                const left = Math.random() * 100;
                const top = Math.random() * 100;
                
                // éšæœºåŠ¨ç”»å»¶è¿Ÿå’Œæ—¶é•¿
                const delay = Math.random() * 15;
                const duration = 15 + Math.random() * 10;
                
                particle.style.cssText = `
                    width: ${size}px;
                    height: ${size}px;
                    left: ${left}%;
                    top: ${top}%;
                    animation-delay: ${delay}s;
                    animation-duration: ${duration}s;
                    opacity: ${Math.random() * 0.5 + 0.2};
                `;
                
                container.appendChild(particle);
            }
        }
        
        // é€‰é¡¹å¡åˆ‡æ¢
        document.querySelectorAll('.auth-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                const tabName = this.dataset.tab;
                
                // æ›´æ–°æ¿€æ´»çš„é€‰é¡¹å¡
                document.querySelectorAll('.auth-tab').forEach(t => {
                    t.classList.remove('active');
                });
                this.classList.add('active');
                
                // åˆ‡æ¢è¡¨å•
                document.querySelectorAll('.auth-form').forEach(form => {
                    form.classList.remove('active');
                });
                document.getElementById(`${tabName}-form`).classList.add('active');
                
                // æ¸…ç©ºæ¶ˆæ¯
                clearMessages();
            });
        });
        
        // åˆ‡æ¢é“¾æ¥
        document.querySelectorAll('[data-switch]').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const tabName = this.dataset.switch;
                document.querySelector(`[data-tab="${tabName}"]`).click();
            });
        });
        
        // å¯†ç æ˜¾ç¤º/éšè—åˆ‡æ¢
        document.querySelectorAll('.password-toggle').forEach(toggle => {
            toggle.addEventListener('click', function() {
                const targetId = this.dataset.target;
                const input = document.getElementById(targetId);
                const type = input.getAttribute('type');
                
                if (type === 'password') {
                    input.setAttribute('type', 'text');
                    this.textContent = 'ğŸ™ˆ';
                } else {
                    input.setAttribute('type', 'password');
                    this.textContent = 'ğŸ‘';
                }
            });
        });
        
        // æ˜¾ç¤ºæ¶ˆæ¯
        function showMessage(message, type = 'info') {
            const container = document.getElementById('message-container');
            const alert = document.createElement('div');
            alert.className = `alert alert-${type}`;
            alert.textContent = message;
            
            container.innerHTML = '';
            container.appendChild(alert);
            
            // è‡ªåŠ¨æ¶ˆå¤±
            if (type === 'error' || type === 'success') {
                setTimeout(() => {
                    alert.style.opacity = '0';
                    alert.style.transform = 'translateY(-10px)';
                    setTimeout(() => {
                        if (alert.parentNode) {
                            alert.parentNode.removeChild(alert);
                        }
                    }, 300);
                }, 5000);
            }
        }
        
        // æ¸…ç©ºæ¶ˆæ¯
        function clearMessages() {
            document.getElementById('message-container').innerHTML = '';
        }
        
        // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
        function showLoading(button) {
            button.disabled = true;
            button.classList.add('loading');
            button.innerHTML = '<span style="visibility: hidden;">' + button.textContent + '</span>';
        }
        
        // éšè—åŠ è½½çŠ¶æ€
        function hideLoading(button) {
            button.disabled = false;
            button.classList.remove('loading');
            button.innerHTML = button.querySelector('span')?.textContent || button.textContent;
        }
        
        // å¯†ç å¼ºåº¦æ£€æŸ¥
        function checkPasswordStrength(password) {
            let strength = 0;
            
            if (password.length >= 8) strength++;
            if (/[a-z]/.test(password)) strength++;
            if (/[A-Z]/.test(password)) strength++;
            if (/[0-9]/.test(password)) strength++;
            if (/[^A-Za-z0-9]/.test(password)) strength++;
            
            return strength;
        }
        
        // ç™»å½•è¡¨å•æäº¤ - å·²ä¿®å¤éªŒè¯é€»è¾‘
        document.getElementById('login-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const identifier = document.getElementById('login-identifier').value.trim();
            const password = document.getElementById('login-password').value;
            const remember = document.getElementById('remember-me').checked;
            const button = document.getElementById('login-btn');
            
            // éªŒè¯è¾“å…¥
            if (!identifier || !password) {
                showMessage('è¯·è¾“å…¥ç”¨æˆ·å/é‚®ç®±å’Œå¯†ç ', 'error');
                return;
            }
            
            showLoading(button);
            
            try {
                // æ¨¡æ‹Ÿç™»å½•å»¶è¿Ÿ
                setTimeout(() => {
                    // ä½¿ç”¨å®é™…çš„æ•°æ®åº“è´¦å·éªŒè¯
                    // ç®¡ç†å‘˜è´¦å·ï¼šsystem_admin æˆ– 3820332398@qq.comï¼Œå¯†ç ï¼šHjy413113
                    // æ¼”ç¤ºç”¨æˆ·è´¦å·ï¼štech_guru, code_master ç­‰ï¼Œå¯†ç ï¼šDemo@123456
                    
                    let isValid = false;
                    let userInfo = {};
                    
                    // æ£€æŸ¥ç®¡ç†å‘˜è´¦å·
                    if ((identifier === 'system_admin' || identifier === '3820332398@qq.com') && password === 'Hjy413113') {
                        isValid = true;
                        userInfo = {
                            id: 1,
                            username: 'system_admin',
                            email: '3820332398@qq.com',
                            full_name: 'ç³»ç»Ÿç®¡ç†å‘˜',
                            role: 'admin',
                            status: 'active'
                        };
                    }
                    // æ£€æŸ¥æ¼”ç¤ºç”¨æˆ·è´¦å·
                    else if (
                        (identifier === 'tech_guru' && password === 'Demo@123456') ||
                        (identifier === 'code_master' && password === 'Demo@123456') ||
                        (identifier === 'design_wizard' && password === 'Demo@123456') ||
                        (identifier === 'new_user_001' && password === 'Demo@123456')
                    ) {
                        isValid = true;
                        userInfo = {
                            id: identifier === 'tech_guru' ? 2 : 
                                 identifier === 'code_master' ? 3 : 
                                 identifier === 'design_wizard' ? 4 : 5,
                            username: identifier,
                            email: identifier === 'tech_guru' ? 'zhangsan@example.com' :
                                   identifier === 'code_master' ? 'lisi@example.com' :
                                   identifier === 'design_wizard' ? 'wangwu@example.com' : 'zhaoliu@example.com',
                            full_name: identifier === 'tech_guru' ? 'å¼ ä¸‰' :
                                     identifier === 'code_master' ? 'æå››' :
                                     identifier === 'design_wizard' ? 'ç‹äº”' : 'èµµå…­',
                            role: identifier === 'code_master' ? 'moderator' : 'user',
                            status: 'active'
                        };
                    }
                    
                    if (isValid) {
                        showMessage('ç™»å½•æˆåŠŸï¼æ­£åœ¨è·³è½¬...', 'success');
                        
                        // ä¿å­˜ç”¨æˆ·ä¿¡æ¯åˆ°localStorage
                        localStorage.setItem('admin_user', JSON.stringify(userInfo));
                        
                        // æ ¹æ®è§’è‰²é‡å®šå‘
                        if (userInfo.role === 'admin' || userInfo.role === 'moderator') {
                            setTimeout(() => {
                                window.location.href = 'admin.html';
                            }, 1500);
                        } else {
                            setTimeout(() => {
                                window.location.href = 'index.html';
                            }, 1500);
                        }
                    } else {
                        showMessage('ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯', 'error');
                    }
                    
                    hideLoading(button);
                }, 1000);
            } catch (error) {
                console.error('ç™»å½•é”™è¯¯:', error);
                showMessage('ç½‘ç»œé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•', 'error');
                hideLoading(button);
            }
        });
        
        // æ³¨å†Œè¡¨å•æäº¤
        document.getElementById('register-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const username = document.getElementById('register-username').value.trim();
            const email = document.getElementById('register-email').value.trim();
            const fullName = document.getElementById('register-fullname').value.trim();
            const password = document.getElementById('register-password').value;
            const confirmPassword = document.getElementById('register-confirm-password').value;
            const terms = document.getElementById('terms-agree').checked;
            const button = document.getElementById('register-btn');
            
            // éªŒè¯è¾“å…¥
            if (!username || !email || !password) {
                showMessage('è¯·å¡«å†™æ‰€æœ‰å¿…å¡«å­—æ®µ', 'error');
                return;
            }
            
            if (username.length < 3 || username.length > 50) {
                showMessage('ç”¨æˆ·åé•¿åº¦åº”åœ¨3-50ä¸ªå­—ç¬¦ä¹‹é—´', 'error');
                return;
            }
            
            if (!/^[a-zA-Z0-9_]+$/.test(username)) {
                showMessage('ç”¨æˆ·ååªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿', 'error');
                return;
            }
            
            // æ£€æŸ¥ç”¨æˆ·åæ˜¯å¦å·²å­˜åœ¨ï¼ˆæ¨¡æ‹Ÿï¼‰
            const existingUsers = ['system_admin', 'tech_guru', 'code_master', 'design_wizard', 'new_user_001'];
            if (existingUsers.includes(username)) {
                showMessage('ç”¨æˆ·åå·²å­˜åœ¨ï¼Œè¯·é€‰æ‹©å…¶ä»–ç”¨æˆ·å', 'error');
                return;
            }
            
            if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                showMessage('è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€', 'error');
                return;
            }
            
            // æ£€æŸ¥é‚®ç®±æ˜¯å¦å·²å­˜åœ¨ï¼ˆæ¨¡æ‹Ÿï¼‰
            const existingEmails = ['3820332398@qq.com', 'zhangsan@example.com', 'lisi@example.com', 'wangwu@example.com', 'zhaoliu@example.com'];
            if (existingEmails.includes(email)) {
                showMessage('é‚®ç®±å·²è¢«æ³¨å†Œï¼Œè¯·ä½¿ç”¨å…¶ä»–é‚®ç®±', 'error');
                return;
            }
            
            if (password.length < 8) {
                showMessage('å¯†ç é•¿åº¦è‡³å°‘8ä½', 'error');
                return;
            }
            
            if (checkPasswordStrength(password) < 3) {
                showMessage('å¯†ç å¼ºåº¦ä¸è¶³ï¼Œå»ºè®®åŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—', 'error');
                return;
            }
            
            if (password !== confirmPassword) {
                showMessage('ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´', 'error');
                return;
            }
            
            if (!terms) {
                showMessage('è¯·åŒæ„æœåŠ¡æ¡æ¬¾å’Œéšç§æ”¿ç­–', 'error');
                return;
            }
            
            showLoading(button);
            
            try {
                // æ¨¡æ‹Ÿæ³¨å†Œå»¶è¿Ÿ
                setTimeout(() => {
                    // æ¨¡æ‹ŸæˆåŠŸæ³¨å†Œ
                    showMessage('æ³¨å†ŒæˆåŠŸï¼æ­£åœ¨ç™»å½•...', 'success');
                    
                    // ä¿å­˜ç”¨æˆ·ä¿¡æ¯
                    const user = {
                        id: Math.floor(Math.random() * 1000) + 100,
                        username: username,
                        email: email,
                        full_name: fullName || username,
                        role: 'user',
                        status: 'active'
                    };
                    
                    localStorage.setItem('admin_user', JSON.stringify(user));
                    
                    setTimeout(() => {
                        window.location.href = 'index.html';
                    }, 1500);
                    
                    hideLoading(button);
                }, 1500);
            } catch (error) {
                console.error('æ³¨å†Œé”™è¯¯:', error);
                showMessage('ç½‘ç»œé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•', 'error');
                hideLoading(button);
            }
        });
        
        // å®æ—¶å¯†ç å¼ºåº¦æ£€æŸ¥
        const passwordInput = document.getElementById('register-password');
        if (passwordInput) {
            let strengthMeter = null;
            
            passwordInput.addEventListener('input', function() {
                const strength = checkPasswordStrength(this.value);
                
                if (!strengthMeter) {
                    strengthMeter = document.createElement('div');
                    strengthMeter.className = 'strength-meter';
                    this.parentNode.appendChild(strengthMeter);
                }
                
                let strengthText = '';
                let strengthClass = '';
                
                if (this.value.length === 0) {
                    strengthMeter.style.display = 'none';
                    return;
                }
                
                strengthMeter.style.display = 'block';
                
                if (strength < 2) {
                    strengthText = 'å¼±';
                    strengthClass = 'weak';
                } else if (strength < 4) {
                    strengthText = 'ä¸­';
                    strengthClass = 'medium';
                } else {
                    strengthText = 'å¼º';
                    strengthClass = 'strong';
                }
                
                strengthMeter.innerHTML = `
                    <div class="strength-bar">
                        <div class="strength-fill ${strengthClass}" style="width: ${strength * 20}%"></div>
                    </div>
                    <span class="strength-text ${strengthClass}">${strengthText}</span>
                `;
            });
        }
        
        // æ£€æŸ¥æ˜¯å¦å·²ç™»å½•
        function checkLoginStatus() {
            const savedUser = localStorage.getItem('admin_user');
            if (savedUser) {
                try {
                    const user = JSON.parse(savedUser);
                    // å¦‚æœå·²ç™»å½•ï¼Œæ ¹æ®è§’è‰²é‡å®šå‘
                    if (user.role === 'admin' || user.role === 'moderator') {
                        window.location.href = 'admin.html';
                    } else {
                        window.location.href = 'index.html';
                    }
                } catch (error) {
                    console.error('è§£æç”¨æˆ·ä¿¡æ¯å¤±è´¥:', error);
                }
            }
        }
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            initParticles();
            checkLoginStatus();
            
            // æ·»åŠ è§¦æ‘¸äº‹ä»¶å¤„ç†ï¼Œç¡®ä¿åœ¨ç§»åŠ¨ç«¯å¯ä»¥æ­£å¸¸æ»‘åŠ¨
            document.addEventListener('touchmove', function(e) {
                // å…è®¸é»˜è®¤çš„æ»šåŠ¨è¡Œä¸º
                const target = e.target;
                
                // å¦‚æœæ˜¯è¾“å…¥æ¡†ï¼Œå…è®¸æ­£å¸¸æ“ä½œ
                if (target.tagName === 'INPUT' || 
                    target.tagName === 'TEXTAREA' ||
                    target.isContentEditable) {
                    return;
                }
                
                // å¯¹äºå…¶ä»–å…ƒç´ ï¼Œå…è®¸æ»šåŠ¨
                e.stopPropagation();
            }, { passive: true });
        });
    </script>
</body>
</html>